<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>S3 파일 업로드 테스트</title>
</head>
<body>
<h1>파일 업로드</h1> <hr>

<form  >
    제목 : <input type="text" id="a" name="title"> <br>
    파일 : <input type="file" id="b" name="file"> <br>

</form>
<button id="t">등록하기</button>
</body>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    $("#t").click(function(){

		var goodsDetailSeq = "10"
		var imageType = $("#a").val();
		var formFile = $("#t").file;
		var formData = new FormData();
		formData.append('goodsDetailSeq', 10);
		formData.append('imagePath', formFile);
		formData.append('imageType', imageType);

		var reader = new FileReader(formFile);

        var arr = [];
        arr.push({goodsDetailSeq: 10, imagePath : "data:image/jpeg;base64,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"
        , imageType : imageType});
        console.log(JSON.stringify(arr))
        console.log(formData)
        console.log(formFile)
        console.log(imageType)
    $.ajax({
        type:"POST",
        url:"/v1/goods/image",
        data : JSON.stringify(arr),
        contentType: "application/json",
        processData : false,
        dataType : "json",
            success: function(data){
                console.log(data);
            },
            error: function(xhr, status, error) {
                alert(error);
            }
        });
    });

</script>
</html>